<!DOCTYPE html>
<html ng-app="MyApp">
<head>
	<meta charset="utf-8">
	<title>Zyloon</title>
	<script type="text/javascript" src="app/angular-1.2.28/angular.js"></script>
	<script type="text/javascript" src="app/angular-1.2.28/angular-route.js"></script>
	<script type="text/javascript" src="app/services/detailService.js"></script>
	<script type="text/javascript" src="app/services/d3.js"></script>
	<script type="text/javascript" src="app/controllers/main1Ctrl.js"></script>
	<script type="text/javascript" src="app/controllers/saleCtrl.js"></script>
	<script type="text/javascript" src="app/app.routes.js"></script>
	<script type="text/javascript" src="app/app.js"></script>
	<link href="app/views/css/sale.css" rel="stylesheet">
  <!--<link href="app/views/css/bootstrap.css" rel="stylesheet">
  -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"></script>
  <!--<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
  -->
  <style>

.chart div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 3px;
  margin: 1px;
  color: white;
}

</style>

<script src="//d3js.org/d3.v3.min.js"></script>


</head>

<body ng-controller="Main1Controller as main">
	<div class="col-sm-12" style="background-color:yellow">
		<h1><b>Zyloon</b></h1>
	</div>
	<br><br>
	<div class="container">
  		<div class="col-lg-4">
  		<h2>Fill the form</h2>
  		<div class="panel panel-default">
    		<div class="panel-body" style="background-color:blue">
				<form>
					<div class="form-group">
						<label><b>Date:<b></label><br>
						<input type="date" ng-model="date" class="form-control">
					</div><br>
					<div class="form-group">
						<label>Expense Category:</label><br>
						<input type="text" ng-model="expense_cat" class="form-control">
					</div><br>
					<div class="form-group">
						<label>Type:</label><br>
						<input type="text" name="types" id="demo" ng-model="types" list="typename" class="form-control">
							<datalist id="typename">
								<option value="Cash">
								<option value="Credit">
							</datalist>
					</div><br>
					<div class="form-group">
						<label>Amount:</label><br>
						<input type="number" ng-model="amount" class="form-control">
					</div><br><br>
					<button type="submit" class="btn btn-default" ng-click="addDetail()">Save Details</button>
					<!--<button type="submit" class="btn btn-default" ng-click="showDetail()">Show previous Details</button>-->
					&nbsp;&nbsp;&nbsp;&nbsp;<button type="submit" class="btn btn-default" ng-click="showData(data)" style="background-color:red">Show graph</button>
				</form>
			</div>
		</div>
		</div>
		<div class="col-lg-4" style="background-color:white">
			<br><br><h3>Amounts for each Expenditure</h3>
			<div class="chart"></div>
		</div>
		<div class="col-lg-4" style="background-color:white">
			<br><br><h3>Type of payment</h3>
			<div id="chart1"></div>
		</div>
	</div>
	<br><br>
	<div class="container">
		<table class="table table-bordered" cellspacing="25">
			<tr>
				<td>Date</td>
				<td>Expense Category</td>
				<td>Type</td>
				<td>Amount</td>
				<td>.....</td>
			</tr>
		</table>
	<div ng-repeat="key in data">
		<table ng-if="!$root.isEdit[$index]" class="table table-bordered">
			<tr>
				<td>{{key.date}}</td>
				<td>{{key.expense_cat}}</td>
				<td>{{key.types}}</td>
				<td>{{key.amount}}</td>
				<td><button ng-click="$root.isEdit[$index] = !$root.isEdit[$index]">edit</button></td>
			</tr>
		</table>
		<br>
		<table ng-if="$root.isEdit[$index]" class="table table-bordered">
			<!--<td><input type="date" ng-model="date" placeholder="{{key.date}}"></td>-->
			<td><input type="text" ng-model="expense_cat" placeholder="{{key.expense_cat}}"></td>
			<td><input type="text" ng-model="types" placeholder="{{key.types}}" list="typename">
				<datalist id="typename">
					<option value="Cash">
					<option value="Credit">
				</datalist></td>
			<td><input type="number" ng-model="amount" placeholder="{{key.amount}}"></td>
			<td><button ng-click="updateDet($index)">update</button></td>
			<td><button ng-click="$root.isEdit[$index]=!$root.isEdit[$index]">cancel</button>
		</table>
	</div>
	</div>
	<br><br>
	<div class="container">
		
	
	<br><br>
	
		
	<div>	
	

</body>
</html>